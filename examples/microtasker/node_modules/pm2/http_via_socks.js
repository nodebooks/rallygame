var Socks = require('socks');
var http  = require('http');


var socksAgent = new Socks.Agent({
  proxy: {
    ipaddress: '144.76.225.134',
    port: 50001,
    type: 5,
  }}, true, false);

http.get({ hostname: 'google.com', port: '443', agent: socksAgent}, function (res) {
  // Connection header by default is keep-alive, we have to manually end the socket
  socksAgent.encryptedSocket.end();

  res.pipe(process.stdout);
});
